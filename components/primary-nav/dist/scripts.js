!function(e){let t=!1;const n=function(e,t){const n=e.nextElementSibling;if(t||"false"!==e.getAttribute("aria-expanded"))n.style.height="0px",n.classList.remove("active"),e.setAttribute("aria-expanded","false");else{n.classList.add("active"),n.style.height="auto";let t=n.clientHeight+"px";n.style.height="0px",setTimeout((function(){n.style.height=t}),0),e.setAttribute("aria-expanded","true")}};e.attach("primaryNav",(e=>{const a=e.querySelector(".block--primary-nav");if(!a)return;const i=a.querySelector(".primary-nav__mobile-toggle"),r=a.querySelectorAll(".menu__item--has-children"),l=a.querySelectorAll(".menu__toggle");a.addEventListener("focusout",(function(){a.contains(event.relatedTarget)||(a.querySelector(".primary-nav__mobile-toggle").setAttribute("aria-expanded","false"),document.documentElement.classList.remove("nav-expanded"),a.querySelectorAll(".menu__toggle").forEach((e=>{e.previousElementSibling.classList.contains("menu__link--always-expanded")||n(e,!0)})))})),a.addEventListener("keydown",(e=>{"Escape"===e.key&&(a.querySelector(".primary-nav__mobile-toggle").setAttribute("aria-expanded","false"),document.documentElement.classList.remove("nav-expanded"),a.querySelectorAll(".menu__toggle").forEach((e=>{e.previousElementSibling.classList.contains("menu__link--always-expanded")||n(e,!0)})),a.querySelector(".primary-nav__mobile-toggle").focus())})),i.addEventListener("click",(()=>{const n="true"===i.getAttribute("aria-expanded")?"false":"true";n?(document.documentElement.classList.add("nav-expanded"),!1!==t&&(clearTimeout(t),t=!1)):t=setTimeout((()=>{document.documentElement.classList.remove("nav-expanded"),e.querySelectorAll(".menu__toggle").forEach((e=>{e.setAttribute("aria-expanded","false")}))}),200),i.setAttribute("aria-expanded",n)})),l.forEach((e=>{e.addEventListener("click",(()=>n(e)))})),r.forEach((e=>{const t=e.querySelector(".menu__toggle");e.addEventListener("mouseenter",(()=>{Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)>=1024&&t.setAttribute("aria-expanded","true")})),e.addEventListener("mouseleave",(()=>{Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)>=1024&&t.setAttribute("aria-expanded","false")})),e.addEventListener("focusout",(()=>{Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)>=1024&&(e.contains(event.relatedTarget)||e.querySelector(".menu__toggle").setAttribute("aria-expanded","false"))}))})),a.classList.add("primary-nav--initialized")}))}(cms);